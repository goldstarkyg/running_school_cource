<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" loadingText="Loading..."
    type="ball-scale-multiple">
</ngx-spinner>

<div id="school" class="page-layout carded fullwidth inner-scroll">

    <!-- TOP BACKGROUND -->
    <div class="top-bg accent"></div>
    <!-- / TOP BACKGROUND -->

    <!-- CENTER -->
    <div class="center">
        <!-- HEADER -->
        <div class="header accent" fxLayout="row" fxLayoutAlign="space-between center">

            <!-- APP TITLE -->
            <div fxLayout="row" fxLayoutAlign="start center">

                <button mat-icon-button class="mr-0 mr-sm-16" [routerLink]="'/apps/school/schools/'+displayMode">
                    <mat-icon>arrow_back</mat-icon>
                </button>

                <div class="school-image mr-8 mr-sm-16" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
                    <img *ngIf="school.logo_path" [src]="urlHeader+school.logo_path" [border]="5">
                </div>

                <div fxLayout="column" fxLayoutAlign="start start"
                    [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                    <div class="h2" *ngIf="displayMode==3">
                        {{school.name}} (Deleted)
                    </div>
                    <div class="h2" *ngIf="displayMode==2">
                        {{school.name}} (Rejected)
                    </div>
                    <div class="h2" *ngIf="displayMode==1">
                        {{school.name}} (Opened)
                    </div>
                    <div class="h2" *ngIf="displayMode==0">
                        {{school.name}} (Pending)
                    </div>
                </div>
            </div>
            <!-- / APP TITLE -->
        </div>
        <!-- / HEADER -->

        <!-- CONTENT CARD -->
        <div class="content-card">
            <!-- CONTENT -->
            <div class="content">
                <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
                    <form class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                        fxFlex="1 0 auto" name="form" [formGroup]="form">
                        <div class="h2 mb-24">School Information</div>

                        <!-- <div class="courses" fxLayout="row wrap" fxLayoutAlign="center" [@animateStagger]="{value:'50'}">

                        </div> -->
                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <div fxFlexOffset="2" fxLayout="column" fxFlex.gt-lg="100" fxLayoutAlign="start start">
                                <div class="school-image mr-8 mr-sm-16"
                                    [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
                                    <img *ngIf="school.logo_path" [src]="urlHeader+school.logo_path">
                                </div>

                                <div class="subtitle secondary-text">
                                    <span><strong>{{school.name}}</strong></span>
                                </div>
                            </div>

                            <div fxLayout="column" fxFlexOffset="5" fxFlex.gt-lg="100" fxLayoutAlign="start start"
                                [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
                                <img *ngIf="school.banner_path" style="border: rgb(84, 84, 243) 4px solid; height:200px"
                                    [src]="urlHeader+school.banner_path">
                            </div>
                        </div>

                        <div fxLayout="row wrap" style="margin-top: 20px" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="50" class="px-8">
                                <mat-label>School Name</mat-label>
                                <input matInput formControlName="name" readonly="true" [value]='school.name'>
                                <mat-icon matSuffix class="secondary-text">school</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="50" class="px-8">
                                <mat-label>Reference ASD</mat-label>
                                <input matInput formControlName="asd" [value]='school.reference_asd'>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>School State</mat-label>
                                <input matInput formControlName="school_state" readonly="true" [value]='school.state'>
                                <mat-icon matSuffix class="secondary-text">domain</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>School Region</mat-label>
                                <input matInput formControlName="school_region" readonly="true" [value]='school.region'>
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>School Province</mat-label>
                                <input matInput formControlName="school_province" readonly="true"
                                    [value]='school.province'>
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>School City</mat-label>
                                <input matInput formControlName="school_city" readonly="true" [value]='school.city'>
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Address</mat-label>
                                <input matInput formControlName="school_address" readonly="true"
                                    [value]='school.address'>
                                <mat-icon matSuffix class="secondary-text">account_balance</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Company Code</mat-label>
                                <input matInput formControlName="company" [value]='school.company_code'>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Postal Code</mat-label>
                                <input matInput #postalCode [value]='school.postal_code' readonly="true"
                                    formControlName="school_postalCode" maxlength="5">
                                <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Membership Type</mat-label>

                                <input *ngIf="school.membership_type == 1" matInput formControlName="school_membership"
                                    readonly="true" value="Active Member">
                                <input *ngIf="school.membership_type == 2" matInput formControlName="school_membership"
                                    readonly="true" value="Perspective Member">
                                <input *ngIf="school.membership_type == 3" matInput formControlName="school_membership"
                                    readonly="true" value="Alumni Member">
                                <input *ngIf="school.membership_type == 0" matInput formControlName="school_membership"
                                    readonly="true" value="No Member">

                                <mat-icon matSuffix class="secondary-text">accessibility</mat-icon>
                            </mat-form-field>
                        </div>
                    </form>
                </div>

                <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
                    <form class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                        fxFlex="1 0 auto" name="form" [formGroup]="form">
                        <div class="h2 mb-24">Manager Information</div>
                        <div fxLayout="column" fxLayoutAlign="start start">
                            <div fxFlexOffset="2" fxLayout="column" fxLayoutAlign="start start">
                                <div style="margin-left: 20px" class="school-image mr-8 mr-sm-16"
                                    [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
                                    <img *ngIf="school_manager.pic" [src]="urlHeader+school_manager.pic">
                                </div>
                            </div>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>First name</mat-label>
                                <input matInput formControlName="first_name" readonly="true"
                                    [value]='school_manager.first_name'>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Last name</mat-label>
                                <input matInput formControlName="last_name" readonly="true"
                                    [value]='school_manager.last_name'>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Gender</mat-label>

                                <input *ngIf="school_manager.gender==1" matInput formControlName="gender"
                                    readonly="true" value="Male">
                                <input *ngIf="school_manager.gender==2" matInput formControlName="gender"
                                    readonly="true" value="Female">
                                <input *ngIf="school_manager.gender==3" matInput formControlName="gender"
                                    readonly="true" value="Other">

                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Birthday</mat-label>
                                <input matInput formControlName="birthday" readonly="true" [value]='school_manager.dob'>
                                <mat-icon matSuffix class="secondary-text">today</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Email</mat-label>
                                <input matInput formControlName="email" readonly="true" [value]='school_manager.email'>
                                <mat-icon matSuffix class="secondary-text">email</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Mobile Phone</mat-label>
                                <input matInput formControlName="mobile" readonly="true"
                                    [value]='school_manager.mobile_phone'>
                                <mat-icon matSuffix class="secondary-text">smartphone</mat-icon>
                            </mat-form-field>
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Postal Code</mat-label>
                                <input matInput #postalCode [value]='school_manager.postal' readonly="true"
                                    formControlName="postalCode" maxlength="5">
                                <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Vat Number</mat-label>
                                <input matInput formControlName="vat_number" readonly="true"
                                    [value]='school_manager.vat_number'>
                                <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>State</mat-label>
                                <input matInput formControlName="state" readonly="true" [value]='school_manager.state'>
                                <mat-icon matSuffix class="secondary-text">domain</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Region</mat-label>
                                <input matInput formControlName="region" readonly="true"
                                    [value]='school_manager.region'>
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Province</mat-label>
                                <input matInput formControlName="province" readonly="true"
                                    [value]='school_manager.province'>
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>City</mat-label>
                                <input matInput formControlName="city" readonly="true" [value]='school_manager.city'>
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="50">
                                <mat-label>Fiscal Code</mat-label>
                                <input matInput #postalCode [value]='school_manager.fiscal_code' readonly="true"
                                    formControlName="fiscalCode" maxlength="5">
                                <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="50">
                                <mat-label>Membership Type</mat-label>
                                <input *ngIf="school_manager.membership_type == 1" matInput formControlName="membership"
                                    readonly="true" value="Active Member">
                                <input *ngIf="school_manager.membership_type == 2" matInput formControlName="membership"
                                    readonly="true" value="Perspective Member">
                                <input *ngIf="school_manager.membership_type == 3" matInput formControlName="membership"
                                    readonly="true" value="Alumni Member">
                                <mat-icon matSuffix class="secondary-text">account_balance</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100">
                                <mat-label>Bio*(Brief Information)</mat-label>
                                <textarea matInput formControlName="bio" readonly="true"
                                    [value]='school_manager.bio'></textarea>
                            </mat-form-field>
                        </div>

                    </form>
                </div>

                <div fxLayout="column" fxLayoutAlign="start start">
                    <u>
                        <h2 style="margin-left: 10px">Upload Area</h2>
                    </u>
                </div>

                <div fxLayout="column" fxLayoutAlign="start start" class="attachment-list">
                    <div class="attachment" fxLayout="row" fxLayoutAlign="space-between center"
                        *ngFor="let data of school.upload">
                        <div>
                            <span class="filename"><a [href]='urlHeader + data.url'>{{data.url}}</a></span>
                            <span class="size ml-4">( {{data.size}} )</span>
                        </div>

                        <button mat-icon-button aria-label="Delete attachment">
                            <mat-icon class="s-16">close</mat-icon>
                        </button>
                    </div>
                </div>

                <div fxLayoutGap="2px" fxLayout="row wrap" fxLayoutAlign="end center">
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="mat-accent compose-dialog-button w-100-p"
                            (click)="viewTechnicalManager()" aria-label="Compose">
                            View Technical Manager
                        </button>
                    </div>

                    <div *ngIf="displayMode==1" class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="mat-accent compose-dialog-button w-100-p"
                            (click)="viewTrainers()" aria-label="Compose">
                            View Trainers
                        </button>
                    </div>

                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="warn" (click)="goBackToSchool()" aria-label="Compose">
                            Go Back
                        </button>
                    </div>
                </div>

                <div fxLayout="column" fxLayoutAlign="start start">
                    <u>
                        <h2 style="margin-left: 10px"> </h2>
                    </u>
                </div>
                <!-- ADD BUTTON -->
            </div>
        </div>
        <!-- / CONTENT CARD -->
    </div>
    <!-- / CENTER -->
</div>