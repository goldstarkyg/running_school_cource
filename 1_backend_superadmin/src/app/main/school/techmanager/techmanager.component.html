<div id="school" class="page-layout carded fullwidth inner-scroll">

    <!-- TOP BACKGROUND -->
    <div class="top-bg accent"></div>
    <!-- / TOP BACKGROUND -->

    <!-- CENTER -->
    <div class="center">

        <!-- HEADER -->
        <div class="header accent" fxLayout="row" fxLayoutAlign="space-between
            center">

            <!-- APP TITLE -->
            <div fxLayout="row" fxLayoutAlign="start center">
                <button mat-icon-button class="mr-0 mr-sm-16"
                    [routerLink]="'/apps/school/school/'+nSchoolNumber">
                    <mat-icon>arrow_back</mat-icon>
                </button>

                <div class="school-image mr-8 mr-sm-16"
                    [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
                    <img *ngIf="techmanager.pic"
                        [src]="urlHeader+techmanager.pic">
                </div>
            </div>
            <!-- / APP TITLE -->
        </div>
        <!-- / HEADER -->

        <!-- CONTENT CARD -->
        <div class="content-card">
            <!-- CONTENT -->
            <div class="content">

                <div class="mb-24" fxLayout="column" fxLayoutAlign="start"
                    fxLayout.gt-md="row">
                    <form class="mat-card mat-elevation-z4 p-24 mr-24"
                        fxLayout="column" fxLayoutAlign="start"
                        fxFlex="1 0 auto" name="form" [formGroup]="form">

                        <div class="h2 mb-24">Manager Information</div>
                        <div fxLayout="column" fxLayoutAlign="start start">
                            <div fxFlexOffset="2" fxLayout="column"
                                fxLayoutAlign="start start">
                                <div style="margin-left: 20px"
                                    class="school-image mr-8 mr-sm-16"
                                    [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
                                    <img *ngIf="techmanager.pic"
                                        [src]="urlHeader+techmanager.pic">
                                </div>
                            </div>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>First name</mat-label>
                                <input matInput formControlName="first_name"
                                    readonly="true"
                                    [value]='techmanager.first_name'>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Last name</mat-label>
                                <input matInput formControlName="last_name"
                                    readonly="true"
                                    [value]='techmanager.last_name'>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Nationality</mat-label>
                                <input matInput formControlName="nationality"
                                    readonly="true"
                                    [value]='techmanager.nationality'>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Gender</mat-label>

                                <input *ngIf="techmanager.gender==1" matInput
                                    formControlName="gender" readonly="true"
                                    value="Male">
                                <input *ngIf="techmanager.gender==2" matInput
                                    formControlName="gender" readonly="true"
                                    value="Female">
                                <input *ngIf="techmanager.gender==3" matInput
                                    formControlName="gender" readonly="true"
                                    value="Other">

                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Email</mat-label>
                                <input matInput formControlName="email"
                                    readonly="true" [value]='techmanager.email'>
                                <mat-icon matSuffix class="secondary-text">email</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Birthday</mat-label>
                                <input matInput formControlName="birthday"
                                    readonly="true" [value]='techmanager.dob'>
                                <mat-icon matSuffix class="secondary-text">today</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>BirthPlace</mat-label>
                                <input matInput formControlName="birthplace"
                                    readonly="true"
                                    [value]='techmanager.birth_place'>
                                <mat-icon matSuffix class="secondary-text">recent_actors</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" class="pr-4">
                                <mat-label>Mobile Phone</mat-label>
                                <input matInput formControlName="mobile"
                                    readonly="true"
                                    [value]='techmanager.mobile_phone'>
                                <mat-icon matSuffix class="secondary-text">smartphone</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" >
                                <mat-label>State</mat-label>
                                <input matInput formControlName="state"
                                    readonly="true" [value]='techmanager.state'>
                                <mat-icon matSuffix class="secondary-text">domain</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" >
                                <mat-label>Region</mat-label>
                                <input matInput formControlName="region"
                                    readonly="true"
                                    [value]='techmanager.region'>
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" >
                                <mat-label>Province</mat-label>
                                <input matInput formControlName="province"
                                    readonly="true"
                                    [value]='techmanager.province'>
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" >
                                <mat-label>City</mat-label>
                                <input matInput formControlName="city"
                                    readonly="true" [value]='techmanager.city'>
                                <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Postal Code</mat-label>
                                <input matInput #postalCode
                                    [value]='techmanager.postal' readonly="true"
                                    formControlName="postalCode" maxlength="5">
                                <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
                            </mat-form-field>

                            <!-- <mat-form-field appearance="outline" fxFlex="33">
                                <mat-label>Group</mat-label>
                                <input matInput formControlName="group" readonly="true" [value]='techmanager.group'>
                                <mat-icon matSuffix class="secondary-text">account_balance</mat-icon>
                            </mat-form-field> -->
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25">
                                <mat-label>Vat Number</mat-label>
                                <input matInput formControlName="vat_number"
                                    readonly="true"
                                    [value]='techmanager.vat_number'>
                                <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
                            </mat-form-field>
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" >
                                <mat-label>Fiscal Code</mat-label>
                                <input matInput #postalCode
                                    [value]='techmanager.fiscal_code'
                                    readonly="true"
                                    formControlName="fiscalCode" maxlength="5">
                                <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="25" >
                                <mat-label>Card Number</mat-label>
                                <input matInput #postalCode
                                    [value]='techmanager.card_number'
                                    readonly="true"
                                    formControlName="card_number" maxlength="5">
                                <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="50" >
                                <mat-label>Membership Type</mat-label>
                                <input *ngIf="techmanager.membership_type == 1"
                                    matInput formControlName="membership"
                                    readonly="true" value="Active Member">
                                <input *ngIf="techmanager.membership_type == 2"
                                    matInput formControlName="membership"
                                    readonly="true" value="Perspective Member">
                                <input *ngIf="techmanager.membership_type == 3"
                                    matInput formControlName="membership"
                                    readonly="true" value="Alumni Member">
                                <input *ngIf="techmanager.membership_type == 0"
                                    matInput formControlName="membership"
                                    readonly="true" value="No Member">
                                <mat-icon matSuffix class="secondary-text">account_balance</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex="100" fxFlex.gt-md="50">
                                <mat-label>Certified Type</mat-label>
                                <input *ngIf="techmanager.certified_type==1"
                                    matInput formControlName="certified_type"
                                    readonly="true" value="Certified Type 1">
                                <input *ngIf="techmanager.certified_type==2"
                                    matInput formControlName="certified_type"
                                    readonly="true" value="Certified Type 2">
                                <input *ngIf="techmanager.certified_type==3"
                                    matInput formControlName="certified_type"
                                    readonly="true" value="Certified Type 3">
                                <input *ngIf="techmanager.certified_type==0"
                                    matInput formControlName="certified_type"
                                    readonly="true" value="Not Certified">
                                <mat-icon matSuffix class="secondary-text">account_balance</mat-icon>
                            </mat-form-field>
                        </div>

                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100">
                                <mat-label>Bio*(Brief Information)</mat-label>
                                <textarea matInput formControlName="bio"
                                    readonly="true"
                                    [value]='techmanager.bio'></textarea>
                            </mat-form-field>
                        </div>

                    </form>
                </div>

                <div fxLayout="column" fxLayoutAlign="start start">
                    <u>
                        <h2 style="margin-left: 10px">Upload Area</h2>
                    </u>
                </div>

                <!-- upload_urls :string;
                download_urls :string; -->
                <div *ngIf="techmanager.upload.length> 0" fxLayout="column"
                    fxLayoutAlign="start start"
                    class="attachment-list">
                    <div class="attachment" fxLayout="row"
                        fxLayoutAlign="space-between center"
                        *ngFor="let data of techmanager.upload">
                        <div>
                            <span class="filename"><a [href]='urlHeader +
                                    data.url'>{{data.url}}</a></span>
                            <span class="size ml-4">( {{data.size}} )</span>
                        </div>

                        <button mat-icon-button aria-label="Delete attachment">
                            <mat-icon class="s-16">close</mat-icon>
                        </button>
                    </div>
                </div>

                <div *ngIf="displayMode==1" fxLayoutGap="2px" fxLayout="row wrap" fxLayoutAlign="end center">
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="mat-accent
                            compose-dialog-button w-100-p"
                            (click)="viewSchoolManager()" aria-label="Compose">
                            View School Manager
                        </button>
                    </div>
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="mat-accent
                            compose-dialog-button w-100-p"
                            (click)="viewCourses()" aria-label="Compose">
                            View Courses
                        </button>
                    </div>
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="warn"
                            (click)="gobackToSchool()" aria-label="Compose">
                            Go Back
                        </button>
                    </div>
                </div>

                <div *ngIf="displayMode==3" fxLayoutGap="2px" fxLayout="row wrap"
                    fxLayoutAlign="end center">
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="mat-accent
                            compose-dialog-button w-100-p"
                            (click)="viewSchoolManager()" aria-label="Compose">
                            View School Manager
                        </button>
                    </div>
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="warn"
                            (click)="gobackToSchool()" aria-label="Compose">
                            Go Back
                        </button>
                    </div>
                </div>

                <div *ngIf="displayMode==0" fxLayoutGap="2px" fxLayout="row wrap"
                    fxLayoutAlign="end center">
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="mat-accent
                            compose-dialog-button w-100-p"
                            (click)="viewSchoolManager()" aria-label="Compose">
                            View School Manager
                        </button>
                    </div>
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="mat-accent
                            compose-dialog-button w-100-p"
                            (click)="acceptSchool()" aria-label="Compose">
                            Accept
                        </button>
                    </div>
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="warn"
                            (click)="rejectSchool()" aria-label="Compose">
                            Reject
                        </button>
                    </div>
                </div>

                <div *ngIf="displayMode==2" fxLayoutGap="2px" fxLayout="row"
                    fxLayoutAlign="end center">
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="mat-accent
                            compose-dialog-button w-100-p"
                            (click)="viewSchoolManager()" aria-label="Compose">
                            View School Manager
                        </button>
                    </div>
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="mat-accent
                            compose-dialog-button w-100-p"
                            (click)="acceptSchool()" aria-label="Compose">
                            Accept
                        </button>
                    </div>
                    <div class="px-24 pt-32 pb-12">
                        <button mat-raised-button class="warn"
                            (click)="gobackToSchool()" aria-label="Compose">
                            Go Back
                        </button>
                    </div>
                </div>

                <div fxLayout="column" fxLayoutAlign="start start">
                    <u>
                        <h2 style="margin-left: 10px"> </h2>
                    </u>
                </div>
                <!-- ADD BUTTON -->
            </div>
        </div>
        <!-- / CONTENT CARD -->
    </div>
    <!-- / CENTER -->
</div>